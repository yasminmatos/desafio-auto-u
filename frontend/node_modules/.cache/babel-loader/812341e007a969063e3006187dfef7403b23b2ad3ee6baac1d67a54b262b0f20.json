{"ast":null,"code":"import React from\"react\";import{Toaster}from\"react-hot-toast\";import{Header}from\"./components/layouts/Header\";import{UploadTabs}from\"./components/UploadTabs\";import{TextInput}from\"./components/TextInput\";import{FileUpload}from\"./components/FileUpload\";import{ModelSelector}from\"./components/ModelSelector\";import{Results}from\"./components/Results\";import{ErrorMessage}from\"./components/ErrorMessage\";import useEmailAnalysis from\"./hooks/useEmailAnalysis\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[activeTab,setActiveTab]=React.useState(\"text\");const[emailText,setEmailText]=React.useState(\"\");const[uploadedFile,setUploadedFile]=React.useState(null);const[analysisModel,setAnalysisModel]=React.useState(\"gemini\");const{loading,result,error,analyzeText,analyzeFile,clear}=useEmailAnalysis();// Limpa resultado, erro e loading do hook\nconst handleClear=()=>{clear();};const handleSubmit=()=>{if(activeTab===\"text\")analyzeText(emailText,analysisModel);else analyzeFile(uploadedFile,analysisModel);};const handleClearText=()=>{setEmailText(\"\");handleClear();};const handleClearFile=()=>{setUploadedFile(null);handleClear();};const handleTabSwitch=tab=>{setActiveTab(tab);handleClear();if(tab===\"text\")setUploadedFile(null);else setEmailText(\"\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",reverseOrder:false}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Insira um e-mail para an\\xE1lise\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-description\",children:\"Pode colar um texto ou fazer o upload de um ficheiro.\"}),/*#__PURE__*/_jsx(UploadTabs,{activeTab:activeTab,onTabSwitch:handleTabSwitch}),activeTab===\"text\"?/*#__PURE__*/_jsx(TextInput,{emailText:emailText,setEmailText:setEmailText,handleClearText:handleClearText}):/*#__PURE__*/_jsx(FileUpload,{uploadedFile:uploadedFile,setUploadedFile:setUploadedFile,handleClearFile:handleClearFile}),/*#__PURE__*/_jsx(ModelSelector,{analysisModel:analysisModel,setAnalysisModel:setAnalysisModel}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-button\",onClick:handleSubmit,disabled:loading||activeTab===\"text\"&&!emailText.trim()||activeTab===\"file\"&&!uploadedFile,children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),\"Analisando...\"]}):\"Analisar e-mail\"})]}),error&&/*#__PURE__*/_jsx(ErrorMessage,{error:error}),result&&/*#__PURE__*/_jsx(Results,{result:result})]})})]});}export default App;","map":{"version":3,"names":["React","Toaster","Header","UploadTabs","TextInput","FileUpload","ModelSelector","Results","ErrorMessage","useEmailAnalysis","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","activeTab","setActiveTab","useState","emailText","setEmailText","uploadedFile","setUploadedFile","analysisModel","setAnalysisModel","loading","result","error","analyzeText","analyzeFile","clear","handleClear","handleSubmit","handleClearText","handleClearFile","handleTabSwitch","tab","children","position","reverseOrder","className","onTabSwitch","onClick","disabled","trim"],"sources":["C:/Users/Yasmin/Documents/Projetos/desafio-auto-u/frontend/src/App.js"],"sourcesContent":["import React from \"react\";\nimport { Toaster } from \"react-hot-toast\";\nimport { Header } from \"./components/layouts/Header\";\nimport { UploadTabs } from \"./components/UploadTabs\";\nimport { TextInput } from \"./components/TextInput\";\nimport { FileUpload } from \"./components/FileUpload\";\nimport { ModelSelector } from \"./components/ModelSelector\";\nimport { Results } from \"./components/Results\";\nimport { ErrorMessage } from \"./components/ErrorMessage\";\nimport useEmailAnalysis from \"./hooks/useEmailAnalysis\";\nimport \"./App.css\";\n\nfunction App() {\n  const [activeTab, setActiveTab] = React.useState(\"text\");\n  const [emailText, setEmailText] = React.useState(\"\");\n  const [uploadedFile, setUploadedFile] = React.useState(null);\n  const [analysisModel, setAnalysisModel] = React.useState(\"gemini\");\n\n  const { loading, result, error, analyzeText, analyzeFile, clear } =\n    useEmailAnalysis();\n\n  // Limpa resultado, erro e loading do hook\n  const handleClear = () => {\n    clear();\n  };\n\n  const handleSubmit = () => {\n    if (activeTab === \"text\") analyzeText(emailText, analysisModel);\n    else analyzeFile(uploadedFile, analysisModel);\n  };\n\n  const handleClearText = () => {\n    setEmailText(\"\");\n    handleClear();\n  };\n\n  const handleClearFile = () => {\n    setUploadedFile(null);\n    handleClear();\n  };\n\n  const handleTabSwitch = (tab) => {\n    setActiveTab(tab);\n    handleClear();\n    if (tab === \"text\") setUploadedFile(null);\n    else setEmailText(\"\");\n  };\n\n  return (\n    <>\n      <Header />\n      <Toaster position=\"top-right\" reverseOrder={false} />\n      <div className=\"container\">\n        <div className=\"main-card\">\n          <div className=\"upload-section\">\n            <h2 className=\"section-title\">Insira um e-mail para an√°lise</h2>\n            <p className=\"section-description\">\n              Pode colar um texto ou fazer o upload de um ficheiro.\n            </p>\n\n            <UploadTabs activeTab={activeTab} onTabSwitch={handleTabSwitch} />\n\n            {activeTab === \"text\" ? (\n              <TextInput\n                emailText={emailText}\n                setEmailText={setEmailText}\n                handleClearText={handleClearText}\n              />\n            ) : (\n              <FileUpload\n                uploadedFile={uploadedFile}\n                setUploadedFile={setUploadedFile}\n                handleClearFile={handleClearFile}\n              />\n            )}\n\n            <ModelSelector\n              analysisModel={analysisModel}\n              setAnalysisModel={setAnalysisModel}\n            />\n\n            <button\n              className=\"submit-button\"\n              onClick={handleSubmit}\n              disabled={\n                loading ||\n                (activeTab === \"text\" && !emailText.trim()) ||\n                (activeTab === \"file\" && !uploadedFile)\n              }\n            >\n              {loading ? (\n                <div className=\"loading\">\n                  <div className=\"spinner\"></div>Analisando...\n                </div>\n              ) : (\n                \"Analisar e-mail\"\n              )}\n            </button>\n          </div>\n\n          {error && <ErrorMessage error={error} />}\n          {result && <Results result={result} />}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}