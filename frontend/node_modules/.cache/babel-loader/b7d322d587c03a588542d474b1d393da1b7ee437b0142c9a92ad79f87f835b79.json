{"ast":null,"code":"import{useState}from\"react\";import axios from\"axios\";//const API_BASE_URL = \"http://127.0.0.1:5000\";\nconst API_BASE_URL=process.env.REACT_APP_API_URL;export default function useEmailAnalysis(){const[loading,setLoading]=useState(false);const[result,setResult]=useState(null);const[error,setError]=useState(null);const analyzeText=async(text,model)=>{setLoading(true);setError(null);setResult(null);try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/classify\"),{text,model});setResult(response.data);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Erro ao processar o email\");}finally{setLoading(false);}};const analyzeFile=async(file,model)=>{setLoading(true);setError(null);setResult(null);try{const formData=new FormData();formData.append(\"file\",file);formData.append(\"model\",model);const response=await axios.post(\"\".concat(API_BASE_URL,\"/classify-file\"),formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setResult(response.data);}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||\"Erro ao processar o arquivo\");}finally{setLoading(false);}};const clear=()=>{setResult(null);setError(null);};return{loading,result,error,analyzeText,analyzeFile,clear};}","map":{"version":3,"names":["useState","axios","API_BASE_URL","process","env","REACT_APP_API_URL","useEmailAnalysis","loading","setLoading","result","setResult","error","setError","analyzeText","text","model","response","post","concat","data","err","_err$response","_err$response$data","analyzeFile","file","formData","FormData","append","headers","_err$response2","_err$response2$data","clear"],"sources":["C:/Users/Yasmin/Documents/Projetos/desafio-auto-u/frontend/src/hooks/useEmailAnalysis.js"],"sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\n\n//const API_BASE_URL = \"http://127.0.0.1:5000\";\nconst API_BASE_URL = process.env.REACT_APP_API_URL;\n\nexport default function useEmailAnalysis() {\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(null);\n\n  const analyzeText = async (text, model) => {\n    setLoading(true);\n    setError(null);\n    setResult(null);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/classify`, {\n        text,\n        model,\n      });\n      setResult(response.data);\n    } catch (err) {\n      setError(err.response?.data?.error || \"Erro ao processar o email\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const analyzeFile = async (file, model) => {\n    setLoading(true);\n    setError(null);\n    setResult(null);\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      formData.append(\"model\", model);\n\n      const response = await axios.post(\n        `${API_BASE_URL}/classify-file`,\n        formData,\n        {\n          headers: { \"Content-Type\": \"multipart/form-data\" },\n        }\n      );\n      setResult(response.data);\n    } catch (err) {\n      setError(err.response?.data?.error || \"Erro ao processar o arquivo\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const clear = () => {\n    setResult(null);\n    setError(null);\n  };\n\n  return { loading, result, error, analyzeText, analyzeFile, clear };\n}\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB;AACA,KAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAElD,cAAe,SAAS,CAAAC,gBAAgBA,CAAA,CAAG,CACzC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACS,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAa,WAAW,CAAG,KAAAA,CAAOC,IAAI,CAAEC,KAAK,GAAK,CACzCP,UAAU,CAAC,IAAI,CAAC,CAChBI,QAAQ,CAAC,IAAI,CAAC,CACdF,SAAS,CAAC,IAAI,CAAC,CACf,GAAI,CACF,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAf,KAAK,CAACgB,IAAI,IAAAC,MAAA,CAAIhB,YAAY,cAAa,CAC5DY,IAAI,CACJC,KACF,CAAC,CAAC,CACFL,SAAS,CAACM,QAAQ,CAACG,IAAI,CAAC,CAC1B,CAAE,MAAOC,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZV,QAAQ,CAAC,EAAAS,aAAA,CAAAD,GAAG,CAACJ,QAAQ,UAAAK,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcF,IAAI,UAAAG,kBAAA,iBAAlBA,kBAAA,CAAoBX,KAAK,GAAI,2BAA2B,CAAC,CACpE,CAAC,OAAS,CACRH,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAe,WAAW,CAAG,KAAAA,CAAOC,IAAI,CAAET,KAAK,GAAK,CACzCP,UAAU,CAAC,IAAI,CAAC,CAChBI,QAAQ,CAAC,IAAI,CAAC,CACdF,SAAS,CAAC,IAAI,CAAC,CACf,GAAI,CACF,KAAM,CAAAe,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEH,IAAI,CAAC,CAC7BC,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAEZ,KAAK,CAAC,CAE/B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAf,KAAK,CAACgB,IAAI,IAAAC,MAAA,CAC5BhB,YAAY,mBACfuB,QAAQ,CACR,CACEG,OAAO,CAAE,CAAE,cAAc,CAAE,qBAAsB,CACnD,CACF,CAAC,CACDlB,SAAS,CAACM,QAAQ,CAACG,IAAI,CAAC,CAC1B,CAAE,MAAOC,GAAG,CAAE,KAAAS,cAAA,CAAAC,mBAAA,CACZlB,QAAQ,CAAC,EAAAiB,cAAA,CAAAT,GAAG,CAACJ,QAAQ,UAAAa,cAAA,kBAAAC,mBAAA,CAAZD,cAAA,CAAcV,IAAI,UAAAW,mBAAA,iBAAlBA,mBAAA,CAAoBnB,KAAK,GAAI,6BAA6B,CAAC,CACtE,CAAC,OAAS,CACRH,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAuB,KAAK,CAAGA,CAAA,GAAM,CAClBrB,SAAS,CAAC,IAAI,CAAC,CACfE,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAED,MAAO,CAAEL,OAAO,CAAEE,MAAM,CAAEE,KAAK,CAAEE,WAAW,CAAEU,WAAW,CAAEQ,KAAM,CAAC,CACpE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}